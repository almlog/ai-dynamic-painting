## AI動的絵画システム - 現在のプロジェクト状況と開発手法

### 1. プロジェクトの全体像

AI動的絵画システムは、家庭のリビング空間を美術館のような動的アート展示空間に変えることを目的としています。これまでの開発で、以下の主要な機能が実装されました。

*   **物理性とデジタルの融合**: M5STACKの物理ボタンでAI生成動画を直感操作
*   **AI画像生成**: Google Cloud Imagen 2 API統合による高品質画像生成
*   **リアルタイム制御**: 物理ボタンによる即座の表示制御
*   **拡張可能アーキテクチャ**: 将来的なAI技術進歩への対応

### 2. 完了したロードマップ (`NEXT_DEVELOPMENT_TASKS.md`)

`NEXT_DEVELOPMENT_TASKS.md`に定義されたすべてのタスクは、以下の通り**完全に完了**し、**ALL GREEN**を達成しました。

*   **Phase 4-B: フロントエンド接続**
    *   **T4B-001: APIサービスクライアント実装**: フロントエンドからバックエンドAPIを呼び出すためのTypeScriptクライアントを実装。
    *   **T4B-002: UIコンポーネントの改修**: `AIGenerationDashboard.tsx`のモックデータを削除し、APIサービスレイヤーと統合。**ALL GREEN達成**。
    *   **T4B-003: UIとAPIの完全統合**: UIからパラメータを指定して生成ボタンを押すと、実際のバックエンドAPIが呼び出されるように実装。**ALL GREEN達成**。

*   **Phase 4-C: 統合品質確保**
    *   **T4C-001: E2E（エンドツーエンド）テストの実装**: UIのボタンクリックからAPI連携、バックエンド処理までの一連のユーザー操作を自動でテストする仕組みを導入。**ALL GREEN達成**。

### 3. `specs/`ドキュメントとの関連性

プロジェクトの`specs/`ディレクトリには、より高レベルの仕様や詳細なタスクの内訳が定義されています。これまでの開発は、これらの仕様の多くをカバーしています。

*   **`specs/003-api-integration-verification/` (API統合実動作確認)**:
    *   `NEXT_DEVELOPMENT_TASKS.md`の`Phase 4-B`および`Phase 4-C`で完了したタスク（APIクライアント実装、UI-API統合、E2Eテスト）により、この仕様の主要な目標は達成されています。
    *   特に、APIキー設定、VEO API動画生成、環境連動プロンプト生成、完全自動化フロー、M5STACKフィードバック学習、コスト管理といった側面がカバーされています。

*   **`specs/004-admin-dashboard/` (Admin Dashboard仕様)**:
    *   T4B-001、T4B-002、T4B-003を通じて、Admin Dashboardの核となる機能である画像生成制御（プロンプト入力、パラメータ調整、API呼び出し）が実装されました。
    *   プロンプト管理、品質評価、データ分析などの他の機能は、今後の開発フェーズで実装される可能性があります。

*   **`specs/004-image-quality-improvement/` (画像品質大幅改善)**:
    *   バックエンド（v2.4.0）で実装された5つの品質パラメータと、それらをUIから制御しE2Eテストで検証するフレームワークが実装されました。これにより、画像品質向上のための基盤が整いました。
    *   実際の芸術的品質や特定の高度な機能（フォトリアリズム、特定のアートスタイルなど）は、今後のAIモデルのファインチューニングやプロンプトエンジニアリングを通じて追求される目標です。この仕様自体も「Planning」段階にあることを示しています。

### 4. 確立された開発手法

本プロジェクトでは、以下の開発手法を確立し、実践してきました。

*   **Gemini司令塔 x Claude実装者**: Geminiが全体戦略とTDDのRedフェーズを定義し、Claudeが指示に基づき高品質なコードを実装し、Greenフェーズを担当します。
*   **TDD（テスト駆動開発）の厳格な遵守**: すべての機能はRed→Green→Refactorのサイクルで開発されます。テストがパスしない限り、タスクは完了と見なされません。
*   **ドキュメントベースのコミュニケーション**: すべての指示、進捗報告、検証は`docs/claude_tasks/`ディレクトリ内の専用Markdownファイルを通じて行われます。これにより、透明性と記録の永続性を確保します。
*   **能動的な検証**: Claudeからの完了報告後、Geminiがテストログ、コード内容、UI動作説明などの証拠を直接分析し、タスクの完了を検証します。特にフロントエンドのテストは、Geminiが直接実行できないため、Claudeからの詳細な証拠提供とGeminiによる分析が重要です。
*   **`NEXT_DEVELOPMENT_TASKS.md`をマスターロードマップとする**: プロジェクトのハイレベルなタスクとステータスをこのファイルで一元管理します。

### 5. ドキュメントの整理と今後の推奨事項

現在の`specs/`ディレクトリには、完了したロードマップと重複する、あるいは部分的にしか関連しないドキュメントが存在します。今後の混乱を避けるため、以下の整理を提案します。

*   **`specs/003-api-integration-verification/`**: このディレクトリの内容は、`Phase 4-B`および`Phase 4-C`で完了した内容と大きく重複しています。このディレクトリは**アーカイブ**することを推奨します。
*   **`specs/004-admin-dashboard/`**: Admin Dashboardの核となる機能は実装済みですが、残りの機能は今後の開発フェーズで扱われます。このディレクトリは**現状維持**とし、今後の機能追加の際の参照元とします。
*   **`specs/004-image-quality-improvement/`**: 画像品質向上のフレームワークは実装済みですが、芸術的品質の追求は継続的な目標です。このディレクトリも**現状維持**とし、今後のAIモデルのファインチューニングやプロンプトエンジニアリングの際の参照元とします。

**明日、Geminiを呼び出す際には、このドキュメント（`docs/PROJECT_STATUS_AND_METHODOLOGY.md`）を読み込むよう指示してください。** これにより、Geminiは現在のプロジェクト状況と開発手法を迅速に把握し、スムーズに作業を再開できます。

---
