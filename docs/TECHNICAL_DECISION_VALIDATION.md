# 技術決定検証チェックリスト

## 🚨 実装前必須検証プロトコル

このドキュメントは、matplotlib画像生成事件 (2025-09-20) の再発防止と、技術選択の品質向上を目的としています。

## 📋 技術選択検証チェックリスト

### Phase 1: 目的分析
- [ ] **要求の本質理解**: 実装する機能の真の目的を明確に定義した
- [ ] **品質要求の具体化**: "美術館レベル"等の抽象的要求を具体的基準に変換した
- [ ] **制約条件の整理**: 技術・コスト・時間・品質の制約を明確化した
- [ ] **成功基準の設定**: 完成判定のための客観的基準を設定した

### Phase 2: 技術選択肢調査
- [ ] **最低3つの選択肢**: 異なるアプローチの技術選択肢を3つ以上検討した
- [ ] **各選択肢の評価**: 利点・欠点・適用範囲を詳細分析した
- [ ] **実績・事例調査**: 類似用途での使用実績を調査した
- [ ] **コミュニティ・サポート**: 技術の成熟度とサポート状況を確認した

### Phase 3: 適合性検証
- [ ] **目的適合性**: 選択技術が実装目的に直接適していることを確認した
- [ ] **品質要求対応**: 要求品質レベルに技術が対応できることを確認した
- [ ] **スケーラビリティ**: 将来の拡張要求に対応可能であることを確認した
- [ ] **保守性**: 長期運用・保守の容易さを評価した

### Phase 4: リスク評価
- [ ] **技術リスク**: 技術的制約や限界によるリスクを評価した
- [ ] **品質リスク**: 目標品質未達のリスクを評価した
- [ ] **スケジュールリスク**: 学習コスト・実装時間のリスクを評価した
- [ ] **フォールバック計画**: 失敗時の代替手段を準備した

### Phase 5: 最終検証
- [ ] **ピアレビュー**: 他者による技術選択の妥当性確認を受けた
- [ ] **プロトタイプ検証**: 小規模な実装で技術的実現可能性を確認した
- [ ] **アーキテクチャ文書化**: 技術選択の理由と設計を文書化した
- [ ] **レビュー記録**: 検討プロセスと決定根拠を記録した

## ⚠️ 禁止パターン（matplotlib事件から学習）

### 🔴 絶対に避けるべき技術選択
1. **用途不一致**: 可視化ツール（matplotlib）でアート生成
2. **品質不整合**: 要求レベル（美術館級）と技術能力（2D図形）の不一致
3. **代替案未検討**: 専用ツール（AI画像生成API）を検討せずに汎用ツールを選択
4. **事前検証不足**: 技術の適用可能性を実装前に確認しない

### 🔴 危険な思考パターン
- "とりあえずこれで実装してみよう"
- "他の選択肢は複雑だから使い慣れたツールで"
- "要求を技術の制約に合わせて調整すればいい"
- "動けばいいから品質は後で考える"

## ✅ 推奨パターン

### 🟢 適切な技術選択プロセス
1. **目的特化**: 実装目的に最適化された専用技術を選択
2. **品質対応**: 要求品質レベルに技術能力が適合している
3. **十分な検討**: 複数の代替案を比較検討
4. **事前検証**: プロトタイプやPoC で実現可能性を確認

### 🟢 推奨思考パターン
- "この目的に最適な技術は何か？"
- "要求品質を満たすにはどの技術が必要か？"
- "他にもっと適切な選択肢はないか？"
- "実装前に実現可能性を確認しよう"

## 📝 技術選択記録テンプレート

### ADR (Architecture Decision Record) テンプレート
```markdown
# ADR-[番号]: [技術選択の要約]

## 背景・問題
- 実装する機能: 
- 要求品質レベル: 
- 制約条件: 

## 検討した選択肢
### 選択肢1: [技術名]
- 利点: 
- 欠点: 
- 適用可能性: 

### 選択肢2: [技術名]
- 利点: 
- 欠点: 
- 適用可能性: 

### 選択肢3: [技術名]
- 利点: 
- 欠点: 
- 適用可能性: 

## 決定
- 選択した技術: 
- 選択理由: 
- 期待される結果: 

## 検証
- 目的適合性: ✅/❌
- 品質要求対応: ✅/❌
- 実現可能性: ✅/❌
- プロトタイプ結果: 

## リスクと対策
- 主要リスク: 
- 軽減策: 
- フォールバック計画: 
```

## 🎯 品質ゲート適用

### 実装プロセスでの適用ポイント
1. **要件定義時**: 目的分析チェックリストを適用
2. **技術調査時**: 選択肢調査チェックリストを適用
3. **設計時**: 適合性検証チェックリストを適用
4. **実装前**: リスク評価チェックリストを適用
5. **実装開始前**: 最終検証チェックリストを適用

### 品質ゲート基準
- **Gate 1 (要件)**: Phase 1チェックリスト100%完了
- **Gate 2 (調査)**: Phase 2チェックリスト100%完了
- **Gate 3 (設計)**: Phase 3チェックリスト100%完了
- **Gate 4 (リスク)**: Phase 4チェックリスト100%完了
- **Gate 5 (最終)**: Phase 5チェックリスト100%完了

## 📚 参考資料

### 技術選択の原則
- [12-Factor App](https://12factor.net/): アプリケーション設計原則
- [C4 Model](https://c4model.com/): アーキテクチャ文書化
- [ADR](https://adr.github.io/): アーキテクチャ決定記録

### 失敗事例研究
- matplotlib画像生成事件 (2025-09-20): 目的と手段の不一致による品質未達

---

**重要**: このチェックリストは、過去の失敗から学習した必須プロセスです。例外なく適用し、品質向上を継続的に実現してください。