# 📊 VEOパラメータ・コスト詳細ガイド

**AI動的絵画システム - VEO API技術仕様・料金体系**

> 「技術的な詳細もしっかり理解して、効率的にVEOを活用するのだ〜！」 - 博士

## 📋 概要

VEO（Video Effects by Google）APIの詳細パラメータ仕様と正確なコスト計算方法を解説します。効率的な動画生成とコスト最適化のための技術リファレンスです。

## 🎛️ VEO APIパラメータ完全仕様

### 📝 Prompt（プロンプト）
**データ型**: String  
**文字数制限**: 1〜2000文字（UTF-8）  
**エンコーディング**: UTF-8対応（日本語・英語・多言語）  

**最適化指針**:
- **トークン効率**: 1プロンプト = 約250〜300トークン（英語基準）
- **言語**: 英語プロンプトが生成品質で優位
- **構造**: 主語 + 動詞 + 環境 + スタイル の順序推奨

**プロンプトエンジニアリング**:
```yaml
効果的な構造:
  Subject: "a tranquil lake"
  Action: "reflecting the sunset"
  Environment: "surrounded by autumn trees"
  Style: "cinematic, golden hour lighting"
  
Combined: "A tranquil lake reflecting the sunset, surrounded by autumn trees, cinematic golden hour lighting"
```

**NGワード**: 暴力的・不適切コンテンツは自動フィルタリング

### ⏱️ Duration（動画長さ）
**データ型**: Integer  
**単位**: 秒  
**範囲**: 5〜30秒  
**デフォルト**: 8秒  

**技術仕様**:
```yaml
最小値: 5秒（API最小単位）
推奨値: 8秒（コスト・品質バランス）
最大値: 30秒（API最大制限）
増分: 1秒単位（任意秒数設定可能）
```

**コスト影響**:
- 線形増加: 30秒 = 5秒の6倍コスト
- 処理時間: 約1.5〜3倍の時間増加

### 🖥️ Resolution（解像度）
**データ型**: Enum String  
**選択肢**: "720p" | "1080p" | "4K"  
**デフォルト**: "1080p"  

**技術詳細**:
```yaml
720p:
  解像度: 1280×720 (HD)
  アスペクト比: 16:9
  ビットレート: ~2Mbps
  ファイルサイズ: 約1.5-3MB (8秒)
  
1080p:
  解像度: 1920×1080 (Full HD)
  アスペクト比: 16:9
  ビットレート: ~5Mbps
  ファイルサイズ: 約4-8MB (8秒)
  
4K:
  解像度: 3840×2160 (Ultra HD)
  アスペクト比: 16:9
  ビットレート: ~15Mbps
  ファイルサイズ: 約12-25MB (8秒)
```

### 🎬 FPS（フレームレート）
**データ型**: Integer  
**選択肢**: 24 | 30 | 60  
**デフォルト**: 30  

**用途別推奨**:
```yaml
24fps:
  特徴: 映画的な質感
  用途: シネマティック表現
  データ量: 最小
  
30fps:
  特徴: 標準的な滑らかさ
  用途: 一般的な動画コンテンツ
  データ量: 中程度
  
60fps:
  特徴: 非常に滑らか
  用途: ゲーム風、高速動作
  データ量: 最大（2倍）
```

### ⭐ Quality（品質）
**データ型**: Enum String  
**選択肢**: "standard" | "high" | "premium"  
**デフォルト**: "standard"  

**品質レベル詳細**:
```yaml
standard:
  AI処理パス: 1パス
  ノイズリダクション: 基本
  処理時間: 1x（基準）
  適用場面: プレビュー、テスト生成
  
high:
  AI処理パス: 2パス
  ノイズリダクション: 強化
  処理時間: 1.5x
  適用場面: 一般展示、SNS投稿
  
premium:
  AI処理パス: 3パス
  ノイズリダクション: 最大
  処理時間: 2.5x
  適用場面: プロフェッショナル用途、美術館展示
```

## 💰 VEO API料金体系（2025年版）

### 基本料金構造
```yaml
課金方式: 従量課金（生成1回あたり）
基本単価: $0.02/秒（720p/standard基準）
計算式: 基本単価 × 長さ × 解像度係数 × FPS係数 × 品質係数
```

### 係数テーブル
```yaml
解像度係数:
  720p: 1.0x
  1080p: 2.5x
  4K: 8.0x

FPS係数:
  24fps: 1.0x
  30fps: 1.25x
  60fps: 2.0x

品質係数:
  standard: 1.0x
  high: 2.0x
  premium: 4.0x
```

### 実際の料金計算例
```yaml
例1: 720p/8秒/30fps/standard
  計算: $0.02 × 8 × 1.0 × 1.25 × 1.0 = $0.20

例2: 1080p/15秒/30fps/high
  計算: $0.02 × 15 × 2.5 × 1.25 × 2.0 = $1.875

例3: 4K/30秒/60fps/premium
  計算: $0.02 × 30 × 8.0 × 2.0 × 4.0 = $38.40

例4: 1080p/10秒/24fps/standard（推奨設定）
  計算: $0.02 × 10 × 2.5 × 1.0 × 1.0 = $0.50
```

### 月間コスト想定
```yaml
ライトユーザー（10本/月）:
  設定: 1080p/8秒/30fps/standard
  1本あたり: $0.50
  月間コスト: $5.00

ヘビーユーザー（50本/月）:
  設定: 1080p/15秒/30fps/high  
  1本あたり: $1.875
  月間コスト: $93.75

プロユーザー（20本/月）:
  設定: 4K/20秒/30fps/premium
  1本あたり: $25.60
  月間コスト: $512.00
```

## ⚡ 処理時間・パフォーマンス

### 生成時間の目安
```yaml
720p/standard: 実時間の1-2倍（8秒動画 = 8-16秒処理）
1080p/high: 実時間の2-4倍（8秒動画 = 16-32秒処理）
4K/premium: 実時間の5-10倍（8秒動画 = 40-80秒処理）
```

### サーバー負荷による変動
```yaml
低負荷時間帯（JST深夜2-6時）: 最速処理
通常時間帯: 標準処理時間
高負荷時間帯（JST夕方6-10時）: 1.5-2倍処理時間
```

### キュー待機時間
```yaml
通常: 0-30秒
混雑時: 1-5分
ピーク時: 5-15分

※システムが自動的に適切な順番で処理
```

## 📈 コスト最適化戦略

### 段階的品質確認フロー
```yaml
Step1: 720p/5秒/standard でプロンプトテスト ($0.125)
Step2: 1080p/8秒/standard で詳細確認 ($0.50)
Step3: 最終品質で完成版生成 (設定に応じて)
```

### プロンプト効率化
```yaml
効率的な手法:
  - 英語プロンプト使用（品質向上）
  - 具体的だが簡潔な表現
  - 不要な修飾語の削除
  
非効率な例:
  - 日本語の長文プロンプト
  - 曖昧な表現の多用
  - 重複した修飾語
```

### バッチ処理の活用
```yaml
推奨パターン:
  - 同じ設定で複数パターン生成
  - 時間帯を考慮した一括生成
  - テスト → 高品質の2段階生成
```

## 🔍 技術的制限・注意事項

### API制限
```yaml
レート制限:
  - 1分間: 10リクエスト
  - 1時間: 100リクエスト
  - 1日: 1000リクエスト

同時実行制限:
  - 同時処理: 3リクエスト
  - キュー待機: 10リクエスト
```

### ファイル制限
```yaml
生成ファイル:
  - 形式: MP4（H.264/AAC）
  - 最大サイズ: 100MB
  - 保存期間: 30日間（自動削除）
  
ダウンロード:
  - 転送上限: 1GB/日
  - 有効期限: 生成から7日間
```

### プロンプトフィルタリング
```yaml
自動検出・拒否対象:
  - 暴力的コンテンツ
  - 著作権侵害の可能性
  - 個人識別情報
  - 政治的・宗教的過激内容
```

## 📊 品質比較・選択指針

### 用途別推奨設定
```yaml
テスト・プレビュー:
  設定: 720p/5秒/24fps/standard
  コスト: $0.10
  用途: アイデア確認

一般展示:
  設定: 1080p/10秒/30fps/high  
  コスト: $1.25
  用途: 家庭展示、SNS投稿

プロフェッショナル:
  設定: 4K/15秒/30fps/premium
  コスト: $14.40
  用途: 商用利用、展示会

シネマティック:
  設定: 4K/30秒/24fps/premium
  コスト: $23.04
  用途: 映像作品、アート展示
```

### 品質とコストのバランス指針
```yaml
コスパ重視: 1080p/standard（品質十分、コスト1/8）
バランス型: 1080p/high（高品質、適正コスト）
品質重視: 4K/premium（最高品質、高コスト）
```

## 🔗 API統合情報

### エンドポイント
```yaml
生成リクエスト: POST /ai/ai/generate
ステータス確認: GET /ai/ai/generation/{task_id}
履歴取得: GET /ai/ai/tasks
キャンセル: DELETE /ai/ai/generation/{task_id}
```

### レスポンス形式
```json
{
  "task_id": "uuid-string",
  "status": "processing|completed|failed",
  "progress_percent": 0-100,
  "video_url": "https://storage.googleapis.com/...",
  "estimated_cost": 1.25,
  "actual_cost": 1.18,
  "created_at": "2025-09-29T10:30:00Z",
  "completed_at": "2025-09-29T10:32:15Z"
}
```

---

**📊 VEO API技術仕様・コスト詳細ガイド**  
**AI動的絵画システム Phase 6対応版**

> 「技術的な詳細を理解すれば、もっと効率的にVEOを活用できるのだ〜！」 - 博士